# koishi-plugin-streetfighter6-rank

[![npm](https://img.shields.io/npm/v/koishi-plugin-streetfighter6-rank?style=flat-square)](https://www.npmjs.com/package/koishi-plugin-streetfighter6-rank)

一个用于查询《街头霸王6》玩家数据的 Koishi 插件，支持排位查询、胜率分析、战斗记录截图和玩家搜索功能。

## 功能特色

- 🎮 **排位查询**：查看玩家当前排位信息、LP值和角色使用情况
- 📊 **胜率分析**：详细的胜率统计，包括各角色胜率数据
- 📸 **战斗记录**：自动截图展示最近战斗记录
- 🔗 **绑定ID**：用户可以绑定自己的玩家ID，便捷查询个人数据
- 🔍 **玩家搜索**：根据玩家名称搜索并获取基本信息
- ⚡ **智能缓存**：内置缓存系统，提升查询响应速度
- 🌐 **多语言支持**：支持中文简体、中文繁体、英文、日文、韩文

## 安装

在 Koishi 控制台的插件市场中搜索 `streetfighter6-rank` 进行安装。

## 配置

### 网站连接配置

- **基础地址**：Buckler 网站基础地址
  - 默认：`https://www.streetfighter.com/6/buckler`
  - 一般不需要修改，除非官方更改了域名

- **页面语言**：查询页面使用的语言
  - 可选：简体中文、繁體中文、English、日本語、한국어
  - 默认：简体中文
  - 影响返回数据的语言显示

- **浏览器标识**：模拟浏览器的 User-Agent 标识
  - 默认：Chrome 124 Windows 标识
  - 用于避免被网站识别为机器人访问

- **Cookie**：访问 Buckler 网站所需的认证信息
  - 必填项，用于身份验证
  - 获取方法见下文"Cookie 获取方法"

### 功能开关

- **启用文本信息输出**：是否输出文字形式的查询结果
  - 默认：开启
  - 关闭后仅显示截图，不显示文字信息

- **启用截图输出**：是否输出截图形式的查询结果
  - 默认：开启
  - 关闭后仅显示文字信息，不显示截图

- **启用合并转发消息（玩家搜索结果）**：是否使用合并转发形式显示搜索结果
  - 默认：关闭
  - 开启后当搜索到多个玩家时，将以合并转发的形式展示结果
  - 仅支持 QQ 和 OneBot 平台
  - 单个搜索结果时仍使用普通文本形式
  
### 调试选项

- **输出详细调试日志**：是否在控制台输出详细的调试信息
  - 默认：关闭
  - 开启后可以查看详细的请求过程和错误信息
  - 建议仅在遇到问题时开启

## 使用方法

### Cookie 获取方法
打开浏览器，访问 SF6 Buckler
登录你的 Capcom 账号
按 F12 打开开发者工具
点击 Network 标签，刷新页面
找到任意请求，复制 Cookie 头的完整内容
在插件配置中设置 Cookie

### 基本命令

| 命令 | 功能 | 用法示例 |
|------|------|----------|
| `排位查询` | 查询玩家排位信息 | `排位查询 1234567890` |
| `胜率查询` | 查询玩家胜率统计 | `胜率查询 1234567890` |
| `战斗记录` | 截图显示战斗记录 | `战斗记录 1234567890` |
| `玩家搜索` | 搜索玩家信息 | `玩家搜索 PlayerName` |
| `绑定ID` | 绑定玩家ID到用户 | `绑定ID 1234567890` |
| `解绑ID` | 解除玩家ID绑定 | `解绑ID` |

## 数据来源

本插件从 [Street Fighter 6 Buckler](https://www.streetfighter.com/6/buckler/) 获取游戏数据。

## 免责声明

本插件为第三方工具，与 Capcom 或《街头霸王6》官方无任何关联。

- 本插件仅供学习和研究目的使用
- 使用本插件获取的所有数据均来自公开的官方网站
- 用户需自行承担使用本插件的风险
- 开发者不对因使用本插件而造成的任何损失承担责任
- 请遵守相关服务条款和当地法律法规
- 如有版权或其他法律问题，请及时联系开发者

## 许可证
本项目采用 MIT License 开源协议。